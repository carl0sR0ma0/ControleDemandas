import React from "react";import { DemandStatus, StatusHistory } from "../types/api";import { statusLabel,colorByStatus } from "../theme/statusColors";
export const StatusTimeline:React.FC<{history:StatusHistory[];current:DemandStatus}> = ({history,current})=>{const steps=[DemandStatus.Ranqueado,DemandStatus.AguardandoAprovacao,DemandStatus.Execucao,DemandStatus.Validacao,DemandStatus.Concluida];const by=new Map(history.map(h=>[h.status,h]));return(<div style={{display:"flex",alignItems:"center",gap:16}}>{steps.map((s,i)=>{const h=by.get(s);const active=s===current;const done=!!h||s===DemandStatus.Ranqueado;return(<div key={s} style={{display:"flex",alignItems:"center",gap:8}}><div style={{width:20,height:20,borderRadius:999,background:done?colorByStatus(s):"#e5e7eb",outline:active?"2px solid #04A4A1":"none"}}/><div style={{fontSize:12}}><div style={{fontWeight:600}}>{statusLabel(s)}</div><div style={{color:"#6b7280"}}>{h?new Date(h.date).toLocaleString():"-"}</div></div>{i<steps.length-1&&<div style={{width:32,height:2,background:"#e5e7eb"}}/>}</div>)})}</div>)}
